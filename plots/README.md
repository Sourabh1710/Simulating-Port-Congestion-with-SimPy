# Supply Chain Simulation: Analyzing Port Congestion with SimPy

[![Python 3.13+](https://img.shields.io/badge/python-3.13+-blue.svg)](https://www.python.org/downloads/release/python-3100/)                                                                                                
**Author:** **Sourabh Sonker (Aspiring Data Scientist)**

---

## Project Overview

This project utilizes discrete-event simulation to model the operations of a container shipping port. The goal is to analyze how the port's performance, measured by ship wait times and turnaround times, is affected by different operational stressors. By simulating scenarios such as a sudden influx of ships or equipment shortages, we can quantify the impact of these events and identify key bottlenecks in the system.

The simulation is built in Python using the `SimPy` library for the core logic, `pandas` for data manipulation, and `matplotlib`/`seaborn` for data visualization.

### Key Questions Addressed:
*   What is the baseline performance of the port under normal operating conditions?
*   How does a sudden surge in ship arrivals impact wait times and create queues?
*   What is the cascading effect of a resource bottleneck, such as a crane shortage, on the entire port's efficiency?

## Directory Structure
```bash
supply_chain_simulation/
├── venv/ # Python virtual environment
├── plots/ # Directory for saved result plots
│ ├── average_wait_times.png
│ ├── berth_wait_time_distribution.png
│ └── turnaround_time_distribution.png
├── generate_data.py # Script to generate ship arrival data for scenarios
├── port_simulation.py # The main SimPy simulation script
├── visualize_results.py # Script to analyze results and create plots
├── ship_arrivals_normal.csv
├── ship_arrivals_influx.csv
├── results_normal.csv
├── results_influx.csv
└── results_crane_shortage.csv
```




## Setup and Installation

1.  **Clone the repository (or download the files) and navigate into the project directory.**
    ```bash
    cd supply_chain_simulation
    ```

2.  **Create and activate a Python virtual environment.**
    *   On macOS/Linux:
        ```bash
        python3 -m venv venv
        source venv/bin/activate
        ```
    *   On Windows:
        ```bash
        python -m venv venv
        .\venv\Scripts\activate
        ```

3.  **Install the required libraries.**
    ```bash
    pip install simpy pandas matplotlib seaborn
    ```

## How to Run the Full Analysis

Execute the following commands in order from your terminal.

1.  **Generate the data for the "Influx" scenario.** (The "Normal" scenario data is generated by default if the file is missing, but this ensures the influx data is created).
    ```bash
    python generate_data.py
    ```

2.  **Run the three simulation scenarios.**
    *   **Normal Scenario:**
        ```bash
        python port_simulation.py --input ship_arrivals_normal.csv --output results_normal.csv --berths 2 --cranes 2
        ```
    *   **Influx Scenario:**
        ```bash
        python port_simulation.py --input ship_arrivals_influx.csv --output results_influx.csv --berths 2 --cranes 2
        ```
    *   **Crane Shortage Scenario:**
        ```bash
        python port_simulation.py --input ship_arrivals_normal.csv --output results_crane_shortage.csv --berths 2 --cranes 1
        ```
        
3.  **Generate the visualizations.** This will read the three `.csv` result files and save plots to the `/plots` directory.
    ```bash
    python visualize_results.py
    ```

## Analysis and Findings

### Scenario 1: Normal Operations (Baseline)
Under normal conditions with 2 berths and 2 cranes, the simulation shows that while the port is functional, queues still form. The primary bottleneck is berth availability, with crane wait times being zero.

### Scenario 2: Ship Influx vs. Crane Shortage
The simulation reveals how different stressors impact the port's performance. The visualizations clearly show the quantitative results of our experiments.

#### Average Wait Times
This plot shows that both the Influx and Crane Shortage scenarios lead to a dramatic increase in average berth wait time compared to the baseline. Most critically, in the Crane Shortage scenario, a new bottleneck appears: ships now have a significant average wait time for a crane, which was zero in the other scenarios.

![Average Wait Times](plots/average_wait_times.png)

#### Berth Wait Time Distribution
This box plot highlights not only the increase in the *average* wait time for a berth but also the increase in *variability*. The much larger boxes and longer whiskers for the Influx and Crane Shortage scenarios indicate that ship arrivals become far less predictable and many ships experience extreme delays. The Crane Shortage creates the most severe and widespread delays for berths.

![Berth Wait Distribution](plots/berth_wait_time_distribution.png)

#### Overall Ship Turnaround Time
This plot captures the total time a ship spends in the port. It confirms that the cascading delays caused by the crane shortage lead to the worst overall performance, with a median turnaround time far exceeding even the ship influx scenario.

![Turnaround Time Distribution](plots/turnaround_time_distribution.png)


## Conclusion
The simulation successfully quantified the port's performance under stress. The key takeaway is that resource shortages can create cascading failures. Removing one crane not only created a queue for cranes but also dramatically worsened the existing queue for berths, leading to systemic gridlock. This model serves as a powerful tool for capacity planning and for identifying the most critical resources in a complex logistical system.